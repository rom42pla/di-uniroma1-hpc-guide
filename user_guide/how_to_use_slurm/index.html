
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://rom42pla.github.io/di-uniroma1-hpc-guide/user_guide/how_to_use_slurm/">
      
      
        <link rel="prev" href="../what_is_slurm/">
      
      
        <link rel="next" href="../../admin_guide/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>How to use Slurm - HPC at Computer Science Department of Sapienza Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-use-slurm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="HPC at Computer Science Department of Sapienza Docs" class="md-header__button md-logo" aria-label="HPC at Computer Science Department of Sapienza Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HPC at Computer Science Department of Sapienza Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to use Slurm
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../how_to_connect_to_the_cluster/" class="md-tabs__link">
          
  
    
  
  User guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../admin_guide/" class="md-tabs__link">
        
  
    
  
  Admin guide

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HPC at Computer Science Department of Sapienza Docs" class="md-nav__button md-logo" aria-label="HPC at Computer Science Department of Sapienza Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HPC at Computer Science Department of Sapienza Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how_to_connect_to_the_cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to connect to the cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Slurm
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Slurm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../what_is_slurm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is Slurm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    How to use Slurm
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    How to use Slurm
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-monitor-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      How to monitor jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to monitor jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#monitor-the-status-of-clusters-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor the status of cluster's nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-the-state-of-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor the state of jobs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-submit-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to submit jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-submit-a-non-interactive-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit a non-interactive job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-submit-a-non-interactive-container" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit a non-interactive container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-submit-an-interactive-container" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit an interactive container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-cancel-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      How to cancel jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to cancel jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cancel-a-job-by-its-job-id" class="md-nav__link">
    <span class="md-ellipsis">
      Cancel a job by its job ID
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cancel-all-the-jobs-of-a-user" class="md-nav__link">
    <span class="md-ellipsis">
      Cancel all the jobs of a user
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admin guide
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-monitor-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      How to monitor jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to monitor jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#monitor-the-status-of-clusters-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor the status of cluster's nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-the-state-of-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor the state of jobs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-submit-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to submit jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-submit-a-non-interactive-job" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit a non-interactive job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-submit-a-non-interactive-container" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit a non-interactive container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-submit-an-interactive-container" class="md-nav__link">
    <span class="md-ellipsis">
      How to submit an interactive container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-cancel-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      How to cancel jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to cancel jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cancel-a-job-by-its-job-id" class="md-nav__link">
    <span class="md-ellipsis">
      Cancel a job by its job ID
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cancel-all-the-jobs-of-a-user" class="md-nav__link">
    <span class="md-ellipsis">
      Cancel all the jobs of a user
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="how-to-use-slurm">How to use Slurm</h1>
<p>In this page we'll list some common Slurm interactions to run, cancel or monitor jobs.</p>
<h2 id="how-to-monitor-jobs">How to monitor jobs</h2>
<h3 id="monitor-the-status-of-clusters-nodes">Monitor the status of cluster's nodes</h3>
<p>The command <code>sinfo</code> can be used to monitor the state of each node, including partitions, time limits, state, and names of the nodes in that partition:</p>
<pre><code class="language-bash">$ sinfo
PARTITION AVAIL  TIMELIMIT  NODES  STATE NODELIST
admin        up   infinite      3   idle node[120-122]
debug        up   infinite     16   idle node[103-114,116,123-124,126]
students*    up   infinite      0    n/a
</code></pre>
<p>For a full list of the meaning of each state, <a href="https://slurm.schedmd.com/sinfo.html#SECTION_NODE-STATE-CODES">refer to Slurm's official docs</a>. Some of the common states are:</p>
<ul>
<li><code>*</code>: the node is presently not responding and will not be allocated any new work;</li>
<li><code>ALLOCATED</code>: the node has been allocated to one or more jobs;</li>
<li>{<code>DOWN</code>, <code>DRAINED</code>, <code>FAIL</code>, <code>INVAL</code>}: the node is unavailable for use. Slurm can automatically place nodes in this state if some failure occurs, so inform an admin ASAP;</li>
<li><code>DRAINING</code>: the node is currently allocated a job, but will not be allocated additional jobs;</li>
<li>{<code>IDLE</code>, <code>MIXED</code>}: the node is not allocated to any jobs and is available for use;</li>
<li><code>UNKNOWN</code>: the Slurm controller has just started and the node's state has not yet been determined.</li>
</ul>
<h3 id="monitor-the-state-of-jobs">Monitor the state of jobs</h3>
<p>The command <code>squeue</code> can be used to view information about jobs located in the Slurm scheduling queue, including job ID, partition, name, user, state, execution time, node name:</p>
<pre><code class="language-bash">$ squeue
JOBID   PARTITION   NAME    USER    ST  TIME    NODES   NODELIST(REASON)
326     debug       sleep   guest   R   0:03    1       node123
</code></pre>
<p>The <code>ST</code> column shows the states of the jobs. For a full list of the meaning of each state, <a href="https://slurm.schedmd.com/squeue.html#SECTION_JOB-STATE-CODES">refer to Slurm's official docs</a>.
Some of the common states are:</p>
<ul>
<li>{<code>BF</code>, <code>F</code>, <code>NF</code>, <code>PR</code>}: the job has failed to launch or complete;</li>
<li><code>OOM</code>: the job experienced out of memory error;</li>
<li><code>R</code>: the job is running; </li>
<li><code>CG</code>: the job is in the process of completing. Some processes on some nodes may still be active.</li>
</ul>
<h2 id="how-to-submit-jobs">How to submit jobs</h2>
<h3 id="how-to-submit-a-non-interactive-job">How to submit a non-interactive job</h3>
<p>A non-interactive job can be run using <code>srun &lt;commands&gt;</code>. 
You have to remember to use the <code>-p</code> or <code>--partition</code> flag, alongside the requirements of the job.</p>
<p>A job with no requirements can be run without further arguments:</p>
<pre><code class="language-bash">$ srun -p &lt;partition&gt; bash -c &quot;echo 'It works! My name is:'; hostname&quot;
It works! My name is:
node116
</code></pre>
<p>A job with certain requirements needs all necessary resources to be specified: </p>
<pre><code class="language-bash">srun -p &lt;partition&gt; --gpus=2 bash -c &quot;echo 'It works! Here is a summary of my GPUs:'; nvidia-smi&quot;
It works! Here is a brief of my GPUs:
Tue Mar 11 16:13:07 2025
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 570.86.16              Driver Version: 570.86.16      CUDA Version: 12.8     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  Quadro RTX 6000                Off |   00000000:41:00.0 Off |                    0 |
| N/A   27C    P8             20W /  250W |       1MiB /  23040MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   1  Quadro RTX 6000                Off |   00000000:C1:00.0 Off |                    0 |
| N/A   25C    P8             13W /  250W |       1MiB /  23040MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
</code></pre>
<p>Read <a href="https://slurm.schedmd.com/srun.html">Slurm's official docs</a> for a list of all the available flags. 
Some common requirements are the following:</p>
<ul>
<li><code>--gpus</code>: the minimum number of GPUs the node must have to run the job;</li>
<li><code>--mem</code>: the real memory required per node, in MBs;</li>
</ul>
<h3 id="how-to-submit-a-non-interactive-container">How to submit a non-interactive container</h3>
<p>You can do it using Singularity.
An interactive job can be run using <code>srun singularity run &lt;container_path&gt; &lt;commands&gt;</code>.</p>
<p>In this example, the <code>hostname</code> command will be executed into the <code>pytorch</code> container run on a node:</p>
<pre><code class="language-bash">$ srun singularity run docker://pytorch/pytorch:2.6.0-cuda12.6-cudnn9-devel hostname
INFO:    Using cached SIF image

==========
== CUDA ==
==========

CUDA Version 12.6.3

Container image Copyright (c) 2016-2023, NVIDIA CORPORATION &amp; AFFILIATES. All rights reserved.

This container image and its contents are governed by the NVIDIA Deep Learning Container License.
By pulling and using the container, you accept the terms and conditions of this license:
https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license

A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.

WARNING: The NVIDIA Driver was not detected.  GPU functionality will not be available.
   Use the NVIDIA Container Toolkit to start this container with GPU support; see
   https://docs.nvidia.com/datacenter/cloud-native/ .

node111
</code></pre>
<h3 id="how-to-submit-an-interactive-container">How to submit an interactive container</h3>
<p>You can do it using Singularity.
An interactive job can be run using <code>srun --pty singularity shell &lt;container_path&gt;</code>, where the <code>--pty</code> flag spawns a pseudo-terminal.</p>
<p>In this example, the <code>pytorch</code> container will be executed on a node with 2 GPUs. 
The <code>--nv</code> flag tells Singularity to mount the GPUs:</p>
<pre><code>$ srun --gpus=2 --pty singularity shell --nv docker://pytorch/pytorch:2.6.0-cuda12.6-cudnn9-devel
INFO:    Using cached SIF image
Singularity&gt; nvidia-smi
Wed Mar 19 16:15:07 2025
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 570.124.06             Driver Version: 570.124.06     CUDA Version: 12.8     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  Quadro RTX 6000                Off |   00000000:41:00.0 Off |                    0 |
| N/A   29C    P0             54W /  250W |       1MiB /  23040MiB |      3%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   1  Quadro RTX 6000                Off |   00000000:C1:00.0 Off |                    0 |
| N/A   29C    P0             56W /  250W |       1MiB /  23040MiB |      4%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
Singularity&gt;
</code></pre>
<h2 id="how-to-cancel-jobs">How to cancel jobs</h2>
<h3 id="cancel-a-job-by-its-job-id">Cancel a job by its job ID</h3>
<p>A particular job can be canceled using the <code>scancel &lt;job_id&gt;</code> command:</p>
<pre><code class="language-bash">$ squeue
JOBID   PARTITION   NAME    USER    ST  TIME    NODES   NODELIST(REASON)
326     debug       sleep   debug   R   0:03    1       node123
$ scancel 326
$ squeue
JOBID   PARTITION   NAME    USER    ST  TIME    NODES   NODELIST(REASON)
326     debug       sleep   debug   CG   0:03    1       node123
</code></pre>
<h2 id="cancel-all-the-jobs-of-a-user">Cancel all the jobs of a user</h2>
<p>All the jobs of a user can be canceled using the <code>-u</code> or <code>--user</code> flag, by typing <code>scancel --user &lt;user_id&gt;</code> command:</p>
<pre><code class="language-bash">$ squeue
JOBID   PARTITION   NAME    USER    ST  TIME    NODES   NODELIST(REASON)
326     debug       sleep   debug   R   0:03    1       node123
$ scancel --user debug
$ squeue
JOBID   PARTITION   NAME    USER    ST  TIME    NODES   NODELIST(REASON)
326     debug       sleep   debug   CG   0:03    1       node123
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>